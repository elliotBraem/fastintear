{
  "version": 3,
  "sources": ["../../src/adapters/here.ts"],
  "sourcesContent": ["import { HereWallet } from \"@here-wallet/core\";\nimport { mapActionForWalletSelector } from \"../utils/actionToWalletSelector\";\n\nexport function createHereAdapter(): any {\n  return {\n    async signIn({ networkId, contractId, publicKey }) {\n      const here = await HereWallet.connect({ networkId });\n      const accountId = await here.signIn({ contractId });\n      const key = await here.authStorage.getKey(networkId, accountId);\n\n      return {\n        state: {\n          accountId,\n          privateKey: key.toString(),\n          networkId,\n        },\n      };\n    },\n\n    async sendTransactions({ state, transactions }) {\n      if (!state?.accountId) {\n        throw new Error(\"Not signed in\");\n      }\n\n      const wallet = await HereWallet.connect({ networkId: state?.networkId });\n\n      try {\n        const response = await wallet.signAndSendTransactions({\n          transactions: transactions.map(\n            ({ signerId, receiverId, actions }) => {\n              if (signerId && signerId !== state.accountId) {\n                throw new Error(\"Invalid signer\");\n              }\n              return {\n                signerId: state.accountId,\n                receiverId,\n                actions: actions.map(mapActionForWalletSelector),\n              };\n            }\n          ),\n        });\n\n        return { outcomes: response };\n      } catch (error) {\n        console.log(error);\n        // if (\n        //   error.message === \"User cancelled the action\" ||\n        //   error.message ===\n        //     \"User closed the window before completing the action\"\n        // ) {\n        //   return { rejected: true };\n        // }\n        throw new Error(error);\n      }\n    },\n  };\n}\n"],
  "mappings": ";;;;;;AAAA,SAAS,kBAAkB;AAGpB,SAAS,oBAAyB;AACvC,SAAO;AAAA,IACL,MAAM,OAAO,EAAE,WAAW,YAAY,UAAU,GAAG;AACjD,YAAM,OAAO,MAAM,WAAW,QAAQ,EAAE,UAAU,CAAC;AACnD,YAAM,YAAY,MAAM,KAAK,OAAO,EAAE,WAAW,CAAC;AAClD,YAAM,MAAM,MAAM,KAAK,YAAY,OAAO,WAAW,SAAS;AAE9D,aAAO;AAAA,QACL,OAAO;AAAA,UACL;AAAA,UACA,YAAY,IAAI,SAAS;AAAA,UACzB;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,IAEA,MAAM,iBAAiB,EAAE,OAAO,aAAa,GAAG;AAC9C,UAAI,CAAC,OAAO,WAAW;AACrB,cAAM,IAAI,MAAM,eAAe;AAAA,MACjC;AAEA,YAAM,SAAS,MAAM,WAAW,QAAQ,EAAE,WAAW,OAAO,UAAU,CAAC;AAEvE,UAAI;AACF,cAAM,WAAW,MAAM,OAAO,wBAAwB;AAAA,UACpD,cAAc,aAAa;AAAA,YACzB,CAAC,EAAE,UAAU,YAAY,QAAQ,MAAM;AACrC,kBAAI,YAAY,aAAa,MAAM,WAAW;AAC5C,sBAAM,IAAI,MAAM,gBAAgB;AAAA,cAClC;AACA,qBAAO;AAAA,gBACL,UAAU,MAAM;AAAA,gBAChB;AAAA,gBACA,SAAS,QAAQ,IAAI,0BAA0B;AAAA,cACjD;AAAA,YACF;AAAA,UACF;AAAA,QACF,CAAC;AAED,eAAO,EAAE,UAAU,SAAS;AAAA,MAC9B,SAAS,OAAO;AACd,gBAAQ,IAAI,KAAK;AAQjB,cAAM,IAAI,MAAM,KAAK;AAAA,MACvB;AAAA,IACF;AAAA,EACF;AACF;",
  "names": []
}
